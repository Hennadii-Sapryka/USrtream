@model IPublishedContent
@using Stream.UmbracoServices.Interfaces
@using Microsoft.AspNetCore.Mvc
@using Umbraco.Cms.Core.Media
@using Umbraco.Cms.Core.Services
@using Umbraco.Extensions

@inject IUrlHelper Url
@inject IImageUrlGenerator UrlGenerator
@inject IMediaService MediaService
@inject IUmbracoPageManager PageManager

@{
    var onHomePage = (bool)(ViewBag.OnHomePage ?? false);
    var home = PageManager.GetRoot<Home>();
}

<div class="site-header">
    @if (home is not null && (home.BackgroundImage?.HasImage() ?? false))
    {
        var backgroundImageUrl = Url.GetCropUrl(home.BackgroundImage, "Image");
        var backgroundVideoUrl = Url.GetCropUrl(home.BackgroundVideo, "Video");

        if (onHomePage)
        {
            <style>
                .nav-background {
                    background-image: url("@backgroundVideoUrl");
                }
            </style>
            <div class="nav-background">
                <video class="video"
                       autoplay muted loop>
                    <source src="@Url.GetCropUrl(home.BackgroundVideo, "Video")" />
                </video>
            </div>
        }
        else
        {
            <style>
                .fit-picture {width: 60px;}
            </style>
        }
    }

    <div class="content-container header-container clearfix">
        @await Html.PartialAsync("_Navigation", Model)
        <a href="@home.Url()">
            <div class="logo-container">
                <img class="fit-picture"
                     src="/media/l0hi2juy/logonew.png"
                alt="Logo Living Stream" />
               
               @* <div class="logo-title">Living Stream</div>*@
                <div class="logo-site">www.lvivchurch.com</div>
            </div>
        </a>

       
    </div>
</div>